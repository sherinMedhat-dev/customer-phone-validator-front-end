



<div class="container-fluid text-center">
  <div class="row content">
    <div class="col-sm-2 sidenav">
    </div>
    <div class="col-sm-8 text-left">
      <h2 class="my-4">Customer phone details search table</h2>
      <hr />
      <div *ngIf="phoneDetails$ | async as phoneDetails">
        <p-table [value]="phoneDetails" [lazy]="true" responsiveLayout="scroll">
          <ng-template pTemplate="header">
            <tr>
              <th>Phone number</th>
              <th>Country code</th>
              <th>State</th>
              <th> </th>
            </tr>
            <tr>
              <th>

              </th>
              <th>
               
                <span class="p-input-icon-left">
                  <i class="pi pi-search"></i>
                  <input type="text" pInputText [(ngModel)]="phoneFilter.countryCode" placeholder="country Code">
                </span>
              </th>
              <th>
                <div *ngIf="phoneValidationState$ | async as phoneValidationState">
                  <p-dropdown dataKey="value" dataValue="value"  placeholder="select state" [options]="phoneValidationState" [(ngModel)]="phoneFilter.state" [filter]="true"></p-dropdown>
                </div>
                <!--<span class="p-input-icon-left">
    <i class="pi pi-search"></i>
    <input type="text" pInputText [(ngModel)]="phoneFilter.state" placeholder="state">
  </span>-->
              </th>
              <th>
                <button pButton pRipple type="button" icon="pi pi-filter" class="p-button-rounded p-button-text p-button-plain" (click)="filterCustomerBy(phoneFilter)"></button>

              </th>
            </tr>
          </ng-template>

          <ng-template pTemplate="body" let-phoneDetail>
            <tr>
              <td>{{phoneDetail.phoneNumber}}</td>
              <td>{{phoneDetail.countryCode}}</td>
              <td>{{phoneDetail.state}}</td>
              <td></td>
            </tr>
          </ng-template>
        </p-table>
        <p-dialog header="Error" [(visible)]="openMessageDialog" [modal]="true" [style]="{width: '50vw'}"
                  [draggable]="false" [resizable]="false">
       
            {{this.MessageDialog}}
 
          <ng-template pTemplate="footer">
            <p-button icon="pi pi-check" (click)="closeDialog()" label="Ok" styleClass="p-button-text"></p-button>
          </ng-template>
        </p-dialog>
      </div>
    </div>
    <div class="col-sm-2 sidenav">

    </div>
  </div>


</div>


